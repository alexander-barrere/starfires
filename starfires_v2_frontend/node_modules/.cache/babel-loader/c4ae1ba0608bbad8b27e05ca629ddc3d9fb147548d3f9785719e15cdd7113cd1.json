{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Container,Row,Col,Card,Button}from'react-bootstrap';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const Treasures=()=>{const[products,setProducts]=useState([]);useEffect(()=>{const fetchProducts=async()=>{try{const response=await axios.get('http://localhost:3001/api/products');setProducts(response.data);}catch(error){console.error('Error fetching products:',error);}};fetchProducts();},[]);const handleAddToCart=product=>{let cartItems=JSON.parse(localStorage.getItem('cartItems'))||[];const existingItem=cartItems.find(item=>item._id===product._id);if(existingItem){cartItems=cartItems.map(item=>item._id===product._id?{...item,quantity:item.quantity+1}:item);}else{cartItems.push({...product,quantity:1});}localStorage.setItem('cartItems',JSON.stringify(cartItems));};return/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsx(Row,{className:\"justify-content-md-center mt-5\",children:/*#__PURE__*/_jsxs(Col,{md:8,children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Astrology Treasures\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Discover a curated selection of astrology books.\"})]})}),/*#__PURE__*/_jsx(Row,{children:products.map(product=>/*#__PURE__*/_jsx(Col,{md:4,children:/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(Card.Img,{variant:\"top\",src:product.imageUrl||'/images/eBook1.jpg'}),/*#__PURE__*/_jsxs(Card.Body,{children:[/*#__PURE__*/_jsx(Card.Title,{children:product.title}),/*#__PURE__*/_jsx(Card.Text,{children:product.description}),/*#__PURE__*/_jsx(Button,{variant:\"primary\",onClick:()=>handleAddToCart(product),children:\"Add to Cart\"})]})]})},product._id))})]});};export default Treasures;","map":{"version":3,"names":["React","useState","useEffect","Container","Row","Col","Card","Button","axios","jsx","_jsx","jsxs","_jsxs","Treasures","products","setProducts","fetchProducts","response","get","data","error","console","handleAddToCart","product","cartItems","JSON","parse","localStorage","getItem","existingItem","find","item","_id","map","quantity","push","setItem","stringify","children","className","md","Img","variant","src","imageUrl","Body","Title","title","Text","description","onClick"],"sources":["/Users/dn5v/.bin/git/github/gpt-pilot/workspace/starfires_v2/starfires_v2_frontend/src/pages/Treasures.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Container, Row, Col, Card, Button } from 'react-bootstrap';\nimport axios from 'axios';\n\nconst Treasures = () => {\n    const [products, setProducts] = useState([]);\n\n    useEffect(() => {\n        const fetchProducts = async () => {\n            try {\n                const response = await axios.get('http://localhost:3001/api/products');\n                setProducts(response.data);\n            } catch (error) {\n                console.error('Error fetching products:', error);\n            }\n        };\n        fetchProducts();\n    }, []);\n\n    const handleAddToCart = (product) => {\n        let cartItems = JSON.parse(localStorage.getItem('cartItems')) || [];\n        const existingItem = cartItems.find(item => item._id === product._id);\n        if (existingItem) {\n            cartItems = cartItems.map(item => item._id === product._id ? { ...item, quantity: item.quantity + 1 } : item);\n        } else {\n            cartItems.push({ ...product, quantity: 1 });\n        }\n        localStorage.setItem('cartItems', JSON.stringify(cartItems));\n    };\n\n    return (\n        <Container>\n            <Row className='justify-content-md-center mt-5'>\n                <Col md={8}>\n                    <h1>Astrology Treasures</h1>\n                    <p>Discover a curated selection of astrology books.</p>\n                </Col>\n            </Row>\n            <Row>\n                {products.map(product => (\n                    <Col md={4} key={product._id}>\n                        <Card>\n                            <Card.Img variant='top' src={product.imageUrl || '/images/eBook1.jpg'} />\n                            <Card.Body>\n                                <Card.Title>{product.title}</Card.Title>\n                                <Card.Text>{product.description}</Card.Text>\n                                <Button variant='primary' onClick={() => handleAddToCart(product)}>Add to Cart</Button>\n                            </Card.Body>\n                        </Card>\n                    </Col>\n                ))}\n            </Row>\n        </Container>\n    );\n};\n\nexport default Treasures;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}