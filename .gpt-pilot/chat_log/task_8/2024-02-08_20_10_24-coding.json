{
  "endpoint": "OPENAI",
  "model": "gpt-4-1106-preview",
  "functions": [
    {
      "name": "save_files",
      "description": "Iterates over the files passed to this function and saves them on the disk.",
      "parameters": {
        "type": "object",
        "properties": {
          "files": {
            "type": "array",
            "description": "List of files that need to be saved.",
            "items": {
              "type": "object",
              "properties": {
                "name": {
                  "type": "string",
                  "description": "Name of the file that needs to be saved on the disk."
                },
                "path": {
                  "type": "string",
                  "description": "Full path of the file with the file name that needs to be saved."
                },
                "content": {
                  "type": "string",
                  "description": "Full content of the file that needs to be saved on the disk. **IMPORTANT**When you want to add a comment that tells the user to add the previous implementation at that place, make sure that the comment starts with `[OLD CODE]` and add a description of what old code should be inserted here. For example, `[OLD CODE] Login route`."
                },
                "description": {
                  "type": "string",
                  "description": "Description of the file that needs to be saved on the disk. This description doesn't need to explain what is being done currently in this task but rather what is the idea behind this file - what do we want to put in this file in the future. Write the description ONLY if this is the first time this file is being saved. If this file already exists on the disk, leave this field empty."
                }
              },
              "required": [
                "name",
                "path",
                "content"
              ]
            }
          }
        },
        "required": [
          "files"
        ]
      }
    }
  ],
  "response": {
    "files": [
      {
        "name": "astrologyController.js",
        "path": "/controllers/astrologyController.js",
        "content": "const AstroChart = require('@astrodraw/astrochart');\n\nexports.getAstrologyChart = (req, res) => {\n  try {\n    const { birthDate, birthTime, birthPlace } = req.body;\n    const chartParameters = {\n      // INPUT_REQUIRED {Define the required parameters for AstroChart based on user input}\n    };\n\n    const astrologyChart = new AstroChart(chartParameters);\n    const result = astrologyChart.draw();\n\n    res.json(result);\n  } catch (err) {\n    console.error(err);\n    res.status(500).send('Server error');\n  }\n};\n",
        "description": "This new file is dedicated to handling astrology-related computations, using the `@astrodraw/astrochart` library."
      },
      {
        "name": "courseController.js",
        "path": "/controllers/courseController.js",
        "content": "// All the imports required for the controller\nconst Course = require('../models/Course');\nconst UserProgress = require('../models/UserProgress');\nconst Assessment = require('../models/Assessment');\n\n// Function to retrieve all courses\nexports.getCourses = async (req, res) => {\n  try {\n    const courses = await Course.find();\n    res.json(courses);\n  } catch (err) {\n    console.error(err.message);\n    res.status(500).send('Server Error');\n  }\n};\n\n// Function to get user progress for a specific course\nexports.getUserProgress = async (req, res) => {\n// [OLD CODE] Implementation of getUserProgress function\n};\n\n// Function to get assessment for a specific course\nexports.getAssessmentForCourse = async (req, res) => {\n// [OLD CODE] Implementation of getAssessmentForCourse function\n};\n"
      },
      {
        "name": "courseRoutes.js",
        "path": "/routes/courseRoutes.js",
        "content": "// All the imports required for the routers\nconst express = require('express');\nconst courseController = require('../controllers/courseController');\nconst { check } = require('express-validator');\nconst astrologyController = require('../controllers/astrologyController');\n\nconst router = express.Router();\n\n// Define the course routes here\nrouter.get('/', courseController.getCourses);\nrouter.get('/progress/:userId/:courseId', courseController.getUserProgress);\nrouter.post('/progress/update', [\n  check('userId', 'userId is required').not().isEmpty(),\n  check('courseId', 'courseId is required').not().isEmpty(),\n// [OLD CODE] Other checks or middleware if necessary\n], courseController.updateUserProgress);\nrouter.get('/assessments/:courseId', courseController.getAssessmentForCourse);\nrouter.post('/astrology-chart', astrologyController.getAstrologyChart);\n\nmodule.exports = router;\n"
      }
    ]
  }
}